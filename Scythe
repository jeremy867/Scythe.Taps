-- Library
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/deividcomsono/Obsidian/refs/heads/main/Library.lua"))()
local Toggles = Library.Toggles
local Options = Library.Options

-- Create Window
local Window = Library:CreateWindow({
Title = "SCYTHE.TAPS",
Footer = "v1.0.0",
ToggleKeybind = Enum.KeyCode.RightControl,
Center = true,
AutoShow = true
})


---

-- MAIN TAB

local MainTab = Window:AddTab("Main", "home")
local LeftGroup = MainTab:AddLeftGroupbox("Features")
LeftGroup:AddToggle("EnableCamlock", { Text = "Enable Camlock", Default = false })
LeftGroup:AddToggle("TargetAim", { Text = "Target Aim", Default = false })
LeftGroup:AddToggle("AutoPrediction", { Text = "Auto Prediction", Default = false })
LeftGroup:AddToggle("LookAt", { Text = "Look At", Default = false })

local PredictionGroup = MainTab:AddLeftGroupbox("Prediction")
PredictionGroup:AddInput("PredictionValue", { Text = "Prediction", Default = "0.165771", Numeric = true, Finished = true, Callback = function(Value)
Options.PredictionValue.Value = tonumber(Value) or 0.165771
end })
Options.PredictionValue.Value = 0.165771

PredictionGroup:AddInput("SmoothnessValue", { Text = "Smoothness", Default = "0.2", Numeric = true, Finished = true, Callback = function(Value)
Options.SmoothnessValue.Value = tonumber(Value) or 0.2
end })
Options.SmoothnessValue.Value = 0.2

PredictionGroup:AddToggle("LockNotify", { Text = "Lock Notification", Default = false })

-- Auto Air
local AutoAirGroup = MainTab:AddRightGroupbox("Auto Air")
AutoAirGroup:AddToggle("AutoAir", { Text = "Enable Auto Air", Default = false })

AutoAirGroup:AddInput("AirDelay", { Text = "Air Delay", Default = "0", Numeric = true, Finished = true, Callback = function(Value)
Options.AirDelay.Value = tonumber(Value) or 0
end })
Options.AirDelay.Value = 0

AutoAirGroup:AddInput("AirOffset", { Text = "Offset", Default = "0.08", Numeric = true, Finished = true, Callback = function(Value)
Options.AirOffset.Value = tonumber(Value) or 0.08
end })
Options.AirOffset.Value = 0.08

AutoAirGroup:AddDropdown("AirParts", { Values = { "Head", "HumanoidRootPart", "Torso" }, Default = 2, Multi = false, Text = "Air Part", Callback = function(Value)
Options.AirParts.Value = Value
end })
Options.AirParts.Value = "HumanoidRootPart"

local AGSGroup = MainTab:AddRightGroupbox("Anti GroundShot")
AGSGroup:AddToggle("AGS", { Text = "Toggle AGS", Default = false })


---

-- VISUALS TAB

local VisualsTab = Window:AddTab("Visuals", "eye")
local ESPGroup = VisualsTab:AddLeftGroupbox("ESP")
ESPGroup:AddToggle("ESP", { Text = "Enable ESP", Default = false })


---

-- MISC TAB

local MiscTab = Window:AddTab("Misc", "gear")
local WalkGroup = MiscTab:AddLeftGroupbox("Movement")

WalkGroup:AddToggle("WalkSpeedToggle", { Text = "WalkSpeed", Default = false })
WalkGroup:AddInput("WalkSpeedValue", { Text = "Speed Value", Default = "50", Numeric = true, Finished = true, Callback = function(val)
Options.WalkSpeedValue.Value = tonumber(val) or 50
end })
Options.WalkSpeedValue.Value = 50

-- WalkSpeed GUI
local speedd = 50
local screenGui = nil
local function createWalkSpeedGUI()
if screenGui then screenGui:Destroy() end
screenGui = Instance.new("ScreenGui")
screenGui.Name = "WalkSpeedGui"
screenGui.Parent = game.CoreGui
screenGui.ResetOnSpawn = false

local button = Instance.new("TextButton")  
button.Name = "WalkSpeedButton"  
button.Parent = screenGui  
button.Active = true  
button.Draggable = true  
button.BackgroundColor3 = Color3.fromRGB(30, 30, 30)  
button.BackgroundTransparency = 0.3  
button.Size = UDim2.new(0,120,0,50)  
button.Position = UDim2.new(1,-150,0,80)  
button.Text = "WalkSpeed OFF"  
button.TextColor3 = Color3.fromRGB(180,220,200)  
button.TextSize = 14  
button.Font = Enum.Font.Gotham  
button.BorderSizePixel = 0  

local corner = Instance.new("UICorner")  
corner.CornerRadius = UDim.new(0,15)  
corner.Parent = button  

local stroke = Instance.new("UIStroke")  
stroke.Color = Color3.fromRGB(200,255,200)  
stroke.Thickness = 2  
stroke.Parent = button  

local humanoid  
local isEnabled = false  
local originalSpeed = 16  

local function UpdateWalkSpeed()  
    if humanoid then  
        humanoid.WalkSpeed = isEnabled and speedd or originalSpeed  
    end  
end  

local function UpdateButtonAppearance()  
    if isEnabled then  
        button.BackgroundColor3 = Color3.fromRGB(50,120,50)  
        button.Text = "WalkSpeed ON"  
        stroke.Color = Color3.fromRGB(150,255,180)  
    else  
        button.BackgroundColor3 = Color3.fromRGB(30,30,30)  
        button.Text = "WalkSpeed OFF"  
        stroke.Color = Color3.fromRGB(200,255,200)  
    end  
end  

local function onCharacterAdded(character)  
    humanoid = character:WaitForChild("Humanoid")  
    originalSpeed = humanoid.WalkSpeed  
    UpdateWalkSpeed()  
    UpdateButtonAppearance()  
end  

local player = game.Players.LocalPlayer  
player.CharacterAdded:Connect(onCharacterAdded)  
if player.Character then onCharacterAdded(player.Character) end  

button.MouseButton1Click:Connect(function()  
    isEnabled = not isEnabled  
    UpdateWalkSpeed()  
    UpdateButtonAppearance()  
end)

end

Toggles.WalkSpeedToggle:OnChanged(function(state)
if state then createWalkSpeedGUI() end
end)
Options.WalkSpeedValue:OnChanged(function() speedd = Options.WalkSpeedValue.Value end)


---

-- Camlock / Target Aim / Auto Air

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local CamlockState = false
local Target = nil

-- Floating camlock button
local GUI = Instance.new("ScreenGui", game.CoreGui)
GUI.Name = "CamlockButton"
local Button = Instance.new("ImageButton", GUI)
Button.BackgroundColor3 = Color3.fromRGB(0,0,0)
Button.Size = UDim2.new(0,80,0,80)
Button.Position = UDim2.new(0.5,-40,0.5,-40)
Button.Image = "rbxassetid://93158052896945"
Button.ImageTransparency = 0.3
Button.Active = true
Button.Draggable = true
Button.BorderSizePixel = 0
Instance.new("UICorner", Button).CornerRadius = UDim.new(0,20)

local NotifyLabel = Instance.new("TextLabel", GUI)
NotifyLabel.Size = UDim2.new(0,200,0,30)
NotifyLabel.Position = UDim2.new(0.5,-100,0.1,0)
NotifyLabel.BackgroundTransparency = 1
NotifyLabel.TextColor3 = Color3.fromRGB(255,255,255)
NotifyLabel.TextScaled = true
NotifyLabel.Visible = false

-- Helpers
local function IsValid(plr)
return plr and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") and plr.Character:FindFirstChild("Humanoid") and plr.Character.Humanoid.Health > 0
end

local function GetNearestEnemy()
local Closest, Dist = nil, math.huge
local Center = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
for _, plr in pairs(Players:GetPlayers()) do
if plr ~= LocalPlayer and IsValid(plr) then
local Pos, OnScreen = Camera:WorldToViewportPoint(plr.Character.HumanoidRootPart.Position)
if OnScreen then
local Distance = (Vector2.new(Pos.X, Pos.Y)-Center).Magnitude
if Distance < Dist then
Dist = Distance
Closest = plr
end
end
end
end
return Closest
end

Button.MouseButton1Click:Connect(function()
CamlockState = not CamlockState
if CamlockState then
Target = GetNearestEnemy()
if Toggles.LockNotify.Value and Target then
NotifyLabel.Text = "Lock onto " .. Target.Name
NotifyLabel.Visible = true
task.delay(2, function() NotifyLabel.Visible = false end)
end
else
Target = nil
end
end)

-- Heartbeat loop
RunService.Heartbeat:Connect(function()
if CamlockState and Target and IsValid(Target) then
local targetPos = Target.Character.HumanoidRootPart.Position + Target.Character.HumanoidRootPart.Velocity * Options.PredictionValue.Value
local newCF = CFrame.new(Camera.CFrame.Position, targetPos)
Camera.CFrame = Camera.CFrame:Lerp(newCF, Options.SmoothnessValue.Value)

if Toggles.TargetAim.Value then  
        local tool = LocalPlayer.Character:FindFirstChildOfClass("Tool")  
        if tool and tool:FindFirstChild("Handle") then  
            tool:Activate()  
        end  
    end  

    if Toggles.AutoAir.Value then  
        local HRP = Target.Character:FindFirstChild("HumanoidRootPart")  
        if HRP and HRP.Velocity.Y > 15 then  
            local tool = LocalPlayer.Character:FindFirstChildOfClass("Tool")  
            if tool and tool:FindFirstChild("Handle") then  
                task.delay(Options.AirDelay.Value or 0, function()  
                    if IsValid(Target) and Toggles.AutoAir.Value then  
                        local part = Target.Character:FindFirstChild(Options.AirParts.Value) or HRP  
                        Camera.CFrame = CFrame.new(Camera.CFrame.Position, part.Position + Vector3.new(0, Options.AirOffset.Value or 0, 0))  
                        tool:Activate()  
                    end  
                end)  
            end  
        end  
    end  
elseif Toggles.LookAt.Value then  
    local nearest = GetNearestEnemy()  
    if nearest and IsValid(nearest) then  
        Camera.CFrame = CFrame.new(Camera.CFrame.Position, nearest.Character.HumanoidRootPart.Position)  
    end  
end

end)
